# 音乐App自动化测试清单

## 使用说明

1. **执行人工操作** - 在模拟器上按照"操作步骤"手动执行任务
2. **运行测试验证** - 执行对应的测试命令
3. **记录结果** - 在"测试状态"列标记通过/失败
4. **追踪进度** - 更新"测试日期"和"备注"

## 快速命令

```bash
# 运行单个任务
python run_single_test.py 1

# 运行多个任务
python run_single_test.py 1 2 3

# 运行任务范围
python run_single_test.py 1-10

# 运行所有任务
python run_single_test.py all
```

---

## 低难度任务 (1-10)

| 编号 | 任务描述 | 操作步骤 | 测试命令 | 测试文件 | 测试状态  | 测试日期 | 备注 |
|------|---------|---------|---------|---------|-------|---------|-----|
| 1 | 打开app并进入"推荐"首页 | 1. 启动App<br>2. 确认进入推荐页面 | `python run_single_test.py 1` | test_task_01.py | 已测试通过 | - | - |
| 2 | 从"推荐"页面进入"漫游"页面 | 1. 点击底部"漫游"按钮 | `python run_single_test.py 2` | test_task_02.py | 已测试通过 | - | - |
| 3 | 从"推荐"页面进入"我的"页面 | 1. 点击底部"我的"按钮 | `python run_single_test.py 3` | test_task_03.py | 已测试通过 | - | - |
| 4 | 播放当前暂停的歌曲 | 1. 进入播放页面<br>2. 点击播放按钮 | `python run_single_test.py 4` | test_task_04.py | 已测试通过 | - | - |
| 5 | 暂停播放当前的歌曲 | 1. 进入播放页面<br>2. 点击暂停按钮 | `python run_single_test.py 5` | test_task_05.py | 已测试通过 | - | - |
| 6 | 切换播放上一首歌曲 | 1. 进入播放页面<br>2. 点击上一首按钮 | `python run_single_test.py 6` | test_task_06.py | 已测试通过 | - | - |
| 7 | 将播放模式改为随机播放 | 1. 进入播放页面<br>2. 多次点击模式切换按钮至随机播放 | `python run_single_test.py 7` | test_task_07.py | 已测试通过 | - | - |
| 8 | 收藏当前歌曲 | 1. 进入播放页面<br>2. 点击收藏按钮 | `python run_single_test.py 8` | test_task_08.py | 已测试通过 | - | 可传入song_id参数 |
| 9 | 调节当前音乐播放的音量 | 1. 进入播放页面<br>2. 调整音量滑块 | `python run_single_test.py 9` | test_task_09.py | 已测试通过 | - | - |
| 10 | 随机进入"我的"中的一个歌单 | 1. 进入我的页面<br>2. 点击任意歌单 | `python run_single_test.py 10` | test_task_10.py | 已测试通过 | - | - |

---

## 中难度任务 (11-21)

| 编号 | 任务描述                    | 操作步骤                              | 测试命令 | 测试文件 | 测试状态  | 测试日期                                | 备注 |
|------|-------------------------|-----------------------------------|---------|---------|-------|-------------------------------------|-|
| 11 | 进入"每日推荐"播放第三首歌曲         | 1. 进入每日推荐<br>2. 点击第3首歌曲播放         | `python run_single_test.py 11` | test_task_11.py | 已测试通过 | 点击歌曲进入播放页面即可，不能点击播放键，不然页面会刷新，测试就会出错 |
| 12 | 创建一个新的歌单,并添加首音乐         | 1. 创建新歌单<br>2. 添加歌曲               | `python run_single_test.py 12` | test_task_12.py | 已测试通过 | -                                   | 可传入歌单名称 |
| 13 | 搜索"稻香"并播放               | 1. 进入搜索<br>2. 搜索"稻香"<br>3. 点击播放   | `python run_single_test.py 13` | test_task_13.py | ⏳待测试  | -                                   | 可传入搜索词 |
| 14 | 搜索某个歌手并播放其中的第一首歌        | 1. 搜索歌手<br>2. 进入歌手页面<br>3. 播放第一首歌 | `python run_single_test.py 14` | test_task_14.py | ⏳待测试  | -                                   | - |
| 15 | 查看一首歌曲的详细信息             | 1. 进入歌曲详情页                        | `python run_single_test.py 15` | test_task_15.py | 已测试通过 | -                                   | 可传入song_id |
| 16 | 查看一首歌曲的歌词               | 1. 进入播放页面<br>2. 点击显示歌词            | `python run_single_test.py 16` | test_task_16.py | 已测试通过 | -                                   | - |
| 17 | 漫游播放并设置播放场景为"欢快"        | 1. 进入漫游页面<br>2. 选择场景"欢快"          | `python run_single_test.py 17` | test_task_17.py | 已测试通过 | -                                   | 可传入场景名称 |
| 18 | 打开一首歌曲的评论区并随机复制一条评论     | -                                 | - | ❌不支持 | ❌不可测  | -                                   | 剪贴板验证困难 |
| 19 | 在排行榜中随机选择打开一个榜单并播放第一首歌曲 | 1. 进入排行榜<br>2. 选择榜单<br>3. 播放第一首   | `python run_single_test.py 19` | test_task_19.py | 已测试通过 | -                                   | - |
| 20 | 在推荐歌单中随机选择一个歌单并收藏       | 1. 找到推荐歌单<br>2. 收藏                | `python run_single_test.py 20` | test_task_20.py | 已测试通过 | -                                   | 可传入playlist_id |
| 21 | 删除歌单中的第一首歌              | 1. 进入歌单<br>2. 删除第一首歌              | `python run_single_test.py 21` | test_task_21.py | ⏳待测试  | -                                   | 需传入playlist_id和期望数量 |

---

## 高难度任务 (22-31)

| 编号 | 任务描述 | 操作步骤 | 测试命令 | 测试文件 | 测试状态 | 测试日期 | 备注 |
|------|---------|---------|---------|---------|---------|---------|-----|
| 22 | 查看每周、每月听歌时长 | 1. 进入听歌时长统计页面 | `python run_single_test.py 22` | test_task_22.py | ⏳待测试 | - | 可传入"weekly"或"monthly" |
| 23 | 分享一首歌曲到微信朋友圈 | - | - | ❌不支持 | ❌不可测 | - | 外部应用交互 |
| 24 | 在歌单中选择一首歌曲并发表评论 | 1. 进入歌曲<br>2. 发表评论 | `python run_single_test.py 24` | test_task_24.py | ⏳待测试 | - | 可传入song_id和内容 |
| 25 | 邀请好友一起听歌 | - | - | ❌不支持 | ❌不可测 | - | 多用户功能 |
| 26 | 听歌识曲 | - | - | ❌不支持 | ❌不可测 | - | 跨应用功能 |
| 27 | 更改歌单的排序顺序 | 1. 进入歌单设置<br>2. 修改排序 | `python run_single_test.py 27` | test_task_27.py | ⏳待测试 | - | 需传入playlist_id和排序方式 |
| 28 | 搜索一个歌手,在歌手主页选择一个专辑并收藏 | 1. 搜索歌手<br>2. 进入专辑<br>3. 收藏 | `python run_single_test.py 28` | test_task_28.py | ⏳待测试 | - | 可传入album_id |
| 29 | 将关注列表中的一位歌手删除 | 1. 进入关注列表<br>2. 取消关注 | `python run_single_test.py 29` | test_task_29.py | ⏳待测试 | - | 可传入artist_id |
| 30 | 搜索一首歌曲并播放MV | 1. 搜索歌曲<br>2. 播放MV | `python run_single_test.py 30` | test_task_30.py | ⏳待测试 | - | 可传入mv_id |
| 31 | 更改播放器样式 | 1. 进入播放器设置<br>2. 选择样式 | `python run_single_test.py 31` | test_task_31.py | ⏳待测试 | - | 可传入style_id |

---

## 测试进度统计

- **总任务数**: 31
- **可测试任务**: 27
- **不可测试任务**: 4 (任务18, 23, 25, 26)
- **已完成**: 0
- **待测试**: 27
- **完成率**: 0%

---

## 测试记录模板

完成测试后，更新对应行：

| 编号 | 测试状态 | 测试日期 | 备注 |
|------|---------|---------|-----|
| X | ✅通过 | 2025-11-03 | 测试顺利 |
| X | ❌失败 | 2025-11-03 | 原因：xxx |

**测试状态图例：**
- ⏳待测试
- ✅通过
- ❌失败
- ❌不可测

---

## 注意事项

1. **测试前准备**
   - 确保模拟器/真机已连接
   - 确保App已安装并启动过一次
   - 运行 `python utils.py check` 确认环境正常

2. **测试顺序建议**
   - 先测试低难度任务（1-10）
   - 再测试中难度任务（11-21）
   - 最后测试高难度任务（22-31）

3. **参数化测试**
   - 有些任务支持参数，如song_id、playlist_id等
   - 在命令行传入参数：`python run_single_test.py 8 song_002`

4. **查看详细信息**
   - 查看JSON文件内容：`python utils.py view playback_state.json`
   - 列出所有文件：`python utils.py list`
